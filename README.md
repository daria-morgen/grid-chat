# Getting Started

### Documentation

#### Для запуска локального клиента выполнить следующее.
1) Build project

         * clean package
   
2) Server start

         * java -jar -Dserver.port=8081 server-0.0.1-SNAPSHOT.jar
   
3) Client start
   
         * java -jar -Dserver.port=8082 -DmessageServiceHost=http://localhost:8081 client-0.0.1-SNAPSHOT.jar 

#### Для запуска второго локального клиента на той же машине необходимо изменить параметры:
   
      -Dserver.port 

###### Download Hazelcast Management Center (опционально)
      https://hazelcast.com/open-source-projects/downloads/
   
      ZIP (115.9 MB)

      java -jar hazelcast-management-center-4.2021.06.jar


#### Для запуска сервера чата на удаленном сервере с чистым IP нужно подключиться к серверу:
     
      используем docker-compose с изменением публичного IP в файле Dockerfile

### Организация приложения
Приложение состоит из 3 подмодулей.
1. server
2. client
3. dto

#### server
Модуль по умолчанию стартует кластер с названием chats_cluster.
Новый клиент поднимает еще одного участника данного кластера
и шарит себе информацию по чатам.
Каждый пользователь чата имеет как минимум один экземпляр member hazelcast со списком чатов.
И один екземпляр HZClient для чтения этого списка. Если имеется список с публичными IP, то 
стартует клиент, читающий список чатов из публичного суперкластера.

#### client 
Модуль отвечает за создание HZClients и подключения их к кластерам. Также отвечает за 
отображение UI.

#### dto
Определяет общие типы взаимодействия.


#### HazelCast
https://docs.hazelcast.com/imdg/4.2/overview/what-is-imdg

   Hazelcast IMDG - это распределенное хранилище объектов в памяти с открытым исходным кодом, 
поддерживающее широкий спектр структур данных.

   Вы можете использовать Hazelcast IMDG для хранения данных в ОЗУ, распространения
и репликации их по кластеру машин, а также для выполнения над ними вычислений. 
Репликация обеспечивает устойчивость к сбоям членов кластера.

   Hazelcast IMDG легко масштабируется и доступен. Распределенные приложения могут использовать 
его для распределенного кэширования, синхронизации, кластеризации, обработки, обмена сообщениями 
pub / sub и т. Д.

   Он реализован на языке Java и имеет клиентов для Java, C ++, .NET, REST, Python, Go и Node.js. 

   Hazelcast IMDG также поддерживает протоколы Memcached и REST. 

   Он подключается к Hibernate и может легко использоваться с любой существующей системой баз данных.

   Hazelcast IMDG упрощает распределенные вычисления, предлагая распределенные реализации множества
удобных для разработчиков интерфейсов. 

   Например, интерфейс карты предоставляет хранилище значений ключа в памяти, которое дает 
многие преимущества NoSQL с точки зрения удобства для разработчиков и производительности 
труда разработчиков.

   Ваши облачные приложения могут легко использовать Hazelcast IMDG. Он достаточно гибкий, 
чтобы использовать его как платформу для обработки данных и вычислений «из коробки» или как 
основу для ваших собственных облачных приложений и микросервисов.

   Hazelcast IMDG разработан, чтобы быть легким и простым в использовании. Поскольку он 
поставляется в виде компактной библиотеки (JAR) и не имеет внешних зависимостей, кроме Java, 
он легко подключается к вашему программному решению и предоставляет распределенные структуры
данных и вычислительные утилиты.

   Он предназначен для масштабирования до сотен участников и тысяч клиентов. Когда вы добавляете 
новых участников, они автоматически обнаруживают кластер и линейно увеличивают как память,
так и вычислительную мощность. Члены поддерживают TCP-соединение между собой, и вся связь 
осуществляется через этот уровень. Каждый член кластера настроен одинаково с точки зрения 
функциональности. Самый старый член (первый член, созданный в кластере) автоматически выполняет
назначение данных членам кластера. Если самый старый член умирает, второй по возрасту член 
вступает во владение.


#### Вы можете развернуть кластер Hazelcast двумя способами:
встроенным или клиент-серверным(Embedded or Client/Server).

https://docs.hazelcast.com/imdg/4.2/overview/topology

Если у вас есть приложение, основное внимание в котором уделяется асинхронным или 
высокопроизводительным вычислениям и выполняется большое количество задач, то предпочтительным 
способом является встроенное(Embedded) развертывание. При внедрении Embedded участники включают 
в себя как приложение, так и данные и службы Hazelcast. Преимущество встроенного развертывания -
доступ к данным с малой задержкой.